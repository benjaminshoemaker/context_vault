{
  "$schema":"https://json-schema.org/draft/2020-12/schema",
  "title":"UserContextV0",
  "type":"object",
  "properties":{
    "identity":{"type":"object","properties":{
      "fullName":{"type":"string"},
      "emails":{"type":"array","items":{"type":"string","format":"email"}},
      "timezone":{"type":"string"}
    }},
    "prefs":{"type":"object","properties":{
      "tone":{"type":"string","enum":["concise","neutral","friendly"]},
      "units":{"type":"string","enum":["metric","imperial"]},
      "dateFormat":{"type":"string"}
    }},
    "comms":{"type":"object","properties":{
      "primaryEmail":{"type":"string","format":"email"},
      "calendarProvider":{"type":"string","enum":["google","microsoft"]},
      "availability":{"type":"array","items":{
        "type":"object","properties":{
          "start":{"type":"string","format":"date-time"},
          "end":{"type":"string","format":"date-time"}
        },"required":["start","end"]
      }}
    }},
    "files":{"type":"array","items":{
      "type":"object","properties":{
        "provider":{"type":"string","enum":["gdrive","onedrive"]},
        "id":{"type":"string"},
        "name":{"type":"string"},
        "shareUrl":{"type":"string","format":"uri"}
      },"required":["provider","id","name"]
    }},
    "policy":{"type":"object","properties":{
      "allowedApps":{"type":"array","items":{"type":"string"}},
      "shareLevels":{"type":"object","additionalProperties":{"type":"string"}}
    }}
  },
  "required":["identity","prefs","comms"]
}
